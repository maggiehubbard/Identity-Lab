@using IdentityLab.Models;
@{
    ViewBag.Title = "Your Cart";
}
<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

<p>This page displays the items in the current users cart.</p>

<table class="table table-bordered">
    <tr>
        <th>Product Name</th>
        <th>Price</th>
        <th></th>
    </tr>

    @foreach (Product p in ViewBag.Cart)
    {
        <tr>
            <td>@p.Name</td>
            <td>$@p.Price.ToString("F")</td>
            <td><p><a href="~/Home/CartDelete?id=@p.ID" class="btn btn-danger">Remove from Cart</a></td>
        </tr>
    }

</table>

<div class="text-center">
    <a href="~/Home/Products"><input type="submit" value="Back to Products" class="btn btn-block" /></a>
    <br />
    <input type="submit" value="Checkout" class="btn btn-block" data-toggle="modal" data-target="#checkoutModal" />
    <input type="submit" value="Clear Checkout" class="btn btn-block" />
</div>
<!--  ********************The Modal***************************** -->
<div class="modal fade" id="checkoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Checkout</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                @foreach (Product p in ViewBag.Cart)
                {
                    <p>@p.Name - $@p.Price.ToString("F")</p>

                }

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
